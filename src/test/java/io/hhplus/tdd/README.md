# 과제내용 

### ❓ [과제] `point` 패키지의 TODO 와 테스트코드를 작성해주세요.

**요구 사항**

- PATCH  `/point/{id}/charge` : 포인트를 충전한다.
- PATCH `/point/{id}/use` : 포인트를 사용한다.
- GET `/point/{id}` : 포인트를 조회한다.
- GET `/point/{id}/histories` : 포인트 내역을 조회한다.
- 잔고가 부족할 경우, 포인트 사용은 실패하여야 합니다.
- 동시에 여러 건의 포인트 충전, 이용 요청이 들어올 경우 순차적으로 처리되어야 합니다.


## 포인트 내역을 존재할 때 발생할 수 있는 예외 케이스는 뭘까? 

### Controller 단위 테스트 단계에서 
아 기본타입은 기본적으로 null을 허용하지 않는구나.
(1)변수 타입 검증은 controller 단에서 보통 하며, 안맞으면 400 (bad Request)

### Service 단위 테스트 단계에서 
(1) 존재하지 않는 id 인 경우

### 통합 단계에서 (DB와의 연동?) 
실제 연계를 하는구나 
그리고 MockMvc를 써서 C->S->M이 가능





## 일단 충전 기능을 생각해보자. 

### 테스트 실패할 경우는 뭘까?
(1) long amount 가 1보다 작을경우 충전할 수 없다.
(2) 특정 유저가 존재하지 않을경우 충전할 수 없다.  --> 사용자 조회로 가야겠네
(3) 사용자가 id 나 amount를 입력하지 않았다면?? -> 는 없겠구나 long이니까
(4) amount에 숫자가 아닌 값이 들어가면 충전할 수 없다. -> 애초에 막히는구나

![img.png](img.png)

### 테스트 성공할 경우 
정답 응답 리턴




